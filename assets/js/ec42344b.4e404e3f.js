"use strict";(self.webpackChunkwww=self.webpackChunkwww||[]).push([[48807],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>g});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=a.createContext({}),c=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(o.Provider,{value:t},e.children)},d="mdxType",k={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,s=e.originalType,o=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),d=c(n),m=r,g=d["".concat(o,".").concat(m)]||d[m]||k[m]||s;return n?a.createElement(g,l(l({ref:t},p),{},{components:n})):a.createElement(g,l({ref:t},p))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=n.length,l=new Array(s);l[0]=m;var i={};for(var o in t)hasOwnProperty.call(t,o)&&(i[o]=t[o]);i.originalType=e,i[d]="string"==typeof e?e:r,l[1]=i;for(var c=2;c<s;c++)l[c]=n[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},50322:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>k,frontMatter:()=>s,metadata:()=>i,toc:()=>c});var a=n(87462),r=(n(67294),n(3905));const s={sidebar_position:1,title:"RPC Provider",id:"rpcProvider"},l=void 0,i={unversionedId:"guides/Old_API_doc/Provider/rpcProvider",id:"version-5.14.1/guides/Old_API_doc/Provider/rpcProvider",title:"RPC Provider",description:"Creating an instance",source:"@site/versioned_docs/version-5.14.1/guides/Old_API_doc/Provider/rpcProvider.md",sourceDirName:"guides/Old_API_doc/Provider",slug:"/guides/Old_API_doc/Provider/rpcProvider",permalink:"/starknet.js/docs/5.14.1/guides/Old_API_doc/Provider/rpcProvider",draft:!1,tags:[],version:"5.14.1",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"RPC Provider",id:"rpcProvider"},sidebar:"defaultSidebar",previous:{title:"Provider",permalink:"/starknet.js/docs/5.14.1/guides/Old_API_doc/Provider/"},next:{title:"Sequencer Provider",permalink:"/starknet.js/docs/5.14.1/guides/Old_API_doc/Provider/sequencerProvider"}},o={},c=[{value:"Creating an instance",id:"creating-an-instance",level:2},{value:"Methods",id:"methods",level:2},{value:"fetch()",id:"fetch",level:3},{value:"getChainId()",id:"getchainid",level:3},{value:"getBlock()",id:"getblock",level:3},{value:"getBlockHashAndNumber()",id:"getblockhashandnumber",level:3},{value:"<em>BlockHashAndNumber</em>",id:"blockhashandnumber",level:6},{value:"getBlockWithTxHashes()",id:"getblockwithtxhashes",level:3},{value:"<em>GetBlockWithTxHashesResponse</em>",id:"getblockwithtxhashesresponse",level:6},{value:"getBlockWithTxs()",id:"getblockwithtxs",level:3},{value:"<em>GetBlockWithTxs</em>",id:"getblockwithtxs-1",level:6},{value:"getClassHashAt()",id:"getclasshashat",level:3},{value:"getTransactionCount()",id:"gettransactioncount",level:3},{value:"getBlockNumber()",id:"getblocknumber",level:3},{value:"getPendingTransactions()",id:"getpendingtransactions",level:3},{value:"<em>PendingTransactions</em>",id:"pendingtransactions",level:6},{value:"getStateUpdate()",id:"getstateupdate",level:3},{value:"<em>StateUpdate</em>",id:"stateupdate",level:6},{value:"getStorageAt()",id:"getstorageat",level:3},{value:"getTransaction()",id:"gettransaction",level:3},{value:"getTransactionByHash()",id:"gettransactionbyhash",level:3},{value:"<em>GetTransactionByHashResponse</em>",id:"gettransactionbyhashresponse",level:6},{value:"getTransactionByBlockIdAndIndex()",id:"gettransactionbyblockidandindex",level:3},{value:"<em>GetTransactionByBlockIdAndIndex</em>",id:"gettransactionbyblockidandindex-1",level:6},{value:"getTransactionReceipt()",id:"gettransactionreceipt",level:3},{value:"getClass()",id:"getclass",level:3},{value:"<em>ContractClass</em>",id:"contractclass",level:6},{value:"getClassAt()",id:"getclassat",level:3},{value:"<em>ContractClass</em>",id:"contractclass-1",level:6},{value:"getInvokeEstimateFee()",id:"getinvokeestimatefee",level:3},{value:"<em>EstimateFeeResponse</em>",id:"estimatefeeresponse",level:6},{value:"getDeclareEstimateFee()",id:"getdeclareestimatefee",level:3},{value:"<em>EstimateFeeResponse</em>",id:"estimatefeeresponse-1",level:6},{value:"declareContract()",id:"declarecontract",level:3},{value:"<em>DeclareContractResponse</em>",id:"declarecontractresponse",level:6},{value:"callContract()",id:"callcontract",level:3},{value:"getContractAddresses()",id:"getcontractaddresses",level:3},{value:"<em>Trace</em>",id:"trace",level:6},{value:"traceBlockTransactions()",id:"traceblocktransactions",level:3},{value:"<em>Traces</em>",id:"traces",level:6},{value:"getSyncingStats()",id:"getsyncingstats",level:3},{value:"<em>GetSyncingStatsResponse</em>",id:"getsyncingstatsresponse",level:6},{value:"getEvents()",id:"getevents",level:3},{value:"<em>EventFilter</em>",id:"eventfilter",level:5},{value:"<em>GetEventsResponse</em>",id:"geteventsresponse",level:6}],p={toc:c},d="wrapper";function k(e){let{components:t,...n}=e;return(0,r.kt)(d,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"creating-an-instance"},"Creating an instance"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"new starknet.RpcProvider(options)")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"options.",(0,r.kt)("strong",{parentName:"li"},"nodeUrl")," - Starknet RPC node url"),(0,r.kt)("li",{parentName:"ul"},"options.",(0,r.kt)("strong",{parentName:"li"},"headers")," - ","[Optional]"," custom fetch headers"),(0,r.kt)("li",{parentName:"ul"},"options.",(0,r.kt)("strong",{parentName:"li"},"retries")," - ","[Optional]"," wait for transaction max retries"),(0,r.kt)("li",{parentName:"ul"},"options.",(0,r.kt)("strong",{parentName:"li"},"blockIdentifier")," - ","[Optional]"," default value set to 'latest'")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"const provider = new starknet.RpcProvider({\n  nodeUrl: 'URL_TO_STARKNET_RPC_NODE',\n})\n")),(0,r.kt)("h2",{id:"methods"},"Methods"),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"fetch"},"fetch()"),(0,r.kt)("p",null,"provider.",(0,r.kt)("strong",{parentName:"p"},"fetch"),"(method: any, params: any) => ",(0,r.kt)("em",{parentName:"p"},"Promise < any >")),(0,r.kt)("p",null,"Generic method for users to be able to experiment with RPC methods."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"getchainid"},"getChainId()"),(0,r.kt)("p",null,"provider.",(0,r.kt)("strong",{parentName:"p"},"getChainId"),"() => ",(0,r.kt)("em",{parentName:"p"},"Promise < any >")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"getblock"},"getBlock()"),(0,r.kt)("p",null,"provider.",(0,r.kt)("strong",{parentName:"p"},"getBlock"),"(blockIdentifier) => ",(0,r.kt)("em",{parentName:"p"},"Promise < GetBlockResponse >")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"getblockhashandnumber"},"getBlockHashAndNumber()"),(0,r.kt)("p",null,"provider.",(0,r.kt)("strong",{parentName:"p"},"getBlockHashAndNumber"),"() => ",(0,r.kt)("em",{parentName:"p"},"Promise < BlockHashAndNumber >")),(0,r.kt)("h6",{id:"blockhashandnumber"},(0,r.kt)("em",{parentName:"h6"},"BlockHashAndNumber")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"{\n  block_hash: BLOCK_HASH;\n  block_number: BLOCK_NUMBER;\n}\n")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"getblockwithtxhashes"},"getBlockWithTxHashes()"),(0,r.kt)("p",null,"provider.",(0,r.kt)("strong",{parentName:"p"},"getBlockWithTxHashes"),"(blockIdentifier) => ",(0,r.kt)("em",{parentName:"p"},"Promise < GetBlockWithTxHashesResponse >")),(0,r.kt)("h6",{id:"getblockwithtxhashesresponse"},(0,r.kt)("em",{parentName:"h6"},"GetBlockWithTxHashesResponse")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"OPENRPC.BlockWithTxHashes\n")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"getblockwithtxs"},"getBlockWithTxs()"),(0,r.kt)("p",null,"provider.",(0,r.kt)("strong",{parentName:"p"},"getBlockWithTxs"),"(blockIdentifier) => ",(0,r.kt)("em",{parentName:"p"},"Promise < GetBlockWithTxs >")),(0,r.kt)("h6",{id:"getblockwithtxs-1"},(0,r.kt)("em",{parentName:"h6"},"GetBlockWithTxs")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"OPENRPC.BlockWithTxs\n")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"getclasshashat"},"getClassHashAt()"),(0,r.kt)("p",null,"provider.",(0,r.kt)("strong",{parentName:"p"},"getClassHashAt"),"(blockIdentifier) => ",(0,r.kt)("em",{parentName:"p"},"Promise < ContractAddress >")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"gettransactioncount"},"getTransactionCount()"),(0,r.kt)("p",null,"provider.",(0,r.kt)("strong",{parentName:"p"},"getTransactionCount"),"(blockIdentifier) => ",(0,r.kt)("em",{parentName:"p"},"Promise < number >")),(0,r.kt)("p",null,"Gets the transaction count from a block."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"getblocknumber"},"getBlockNumber()"),(0,r.kt)("p",null,"provider.",(0,r.kt)("strong",{parentName:"p"},"getBlockNumber"),"() => ",(0,r.kt)("em",{parentName:"p"},"Promise < number >")),(0,r.kt)("p",null,"Gets the latest block number."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"getpendingtransactions"},"getPendingTransactions()"),(0,r.kt)("p",null,"provider.",(0,r.kt)("strong",{parentName:"p"},"getPendingTransactions"),"() => ",(0,r.kt)("em",{parentName:"p"},"Promise < PendingTransactions >")),(0,r.kt)("h6",{id:"pendingtransactions"},(0,r.kt)("em",{parentName:"h6"},"PendingTransactions")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"OPENRPC.PendingTransactions;\n")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"getstateupdate"},"getStateUpdate()"),(0,r.kt)("p",null,"provider.",(0,r.kt)("strong",{parentName:"p"},"getStateUpdate"),"(blockIdentifier) => ",(0,r.kt)("em",{parentName:"p"},"Promise < StateUpdate >")),(0,r.kt)("h6",{id:"stateupdate"},(0,r.kt)("em",{parentName:"h6"},"StateUpdate")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"OPENRPC.StateUpdate;\n")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"getstorageat"},"getStorageAt()"),(0,r.kt)("p",null,"provider.",(0,r.kt)("strong",{parentName:"p"},"getStorageAt"),"(contractAddress, key, blockIdentifier) => ",(0,r.kt)("em",{parentName:"p"},"Promise < BigNumberish >")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"gettransaction"},"getTransaction()"),(0,r.kt)("p",null,"provider.",(0,r.kt)("strong",{parentName:"p"},"getTransaction"),"(txHash) => ",(0,r.kt)("em",{parentName:"p"},"Promise < GetTransactionResponse >")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"gettransactionbyhash"},"getTransactionByHash()"),(0,r.kt)("p",null,"provider.",(0,r.kt)("strong",{parentName:"p"},"getTransactionByHash"),"(txHash) => ",(0,r.kt)("em",{parentName:"p"},"Promise < GetTransactionByHashResponse >")),(0,r.kt)("h6",{id:"gettransactionbyhashresponse"},(0,r.kt)("em",{parentName:"h6"},"GetTransactionByHashResponse")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"OPENRPC.Transaction;\n")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"gettransactionbyblockidandindex"},"getTransactionByBlockIdAndIndex()"),(0,r.kt)("p",null,"provider.",(0,r.kt)("strong",{parentName:"p"},"getTransactionByBlockIdAndIndex"),"(blockIdentifier, index) => ",(0,r.kt)("em",{parentName:"p"},"Promise < GetTransactionByBlockIdAndIndex >")),(0,r.kt)("h6",{id:"gettransactionbyblockidandindex-1"},(0,r.kt)("em",{parentName:"h6"},"GetTransactionByBlockIdAndIndex")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"OPENRPC.Transaction;\n")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"gettransactionreceipt"},"getTransactionReceipt()"),(0,r.kt)("p",null,"provider.",(0,r.kt)("strong",{parentName:"p"},"getTransactionReceipt"),"(txHash) => ",(0,r.kt)("em",{parentName:"p"},"Promise < GetTransactionReceiptResponse >")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"getclass"},"getClass()"),(0,r.kt)("p",null,"provider.",(0,r.kt)("strong",{parentName:"p"},"getClass"),"(classHash) => ",(0,r.kt)("em",{parentName:"p"},"Promise < ContractClass >")),(0,r.kt)("h6",{id:"contractclass"},(0,r.kt)("em",{parentName:"h6"},"ContractClass")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"OPENRPC.ContractClass;\n")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"getclassat"},"getClassAt()"),(0,r.kt)("p",null,"provider.",(0,r.kt)("strong",{parentName:"p"},"getClassAt"),"(contractAddress, blockIdentifier) => ",(0,r.kt)("em",{parentName:"p"},"Promise < ContractClass >")),(0,r.kt)("h6",{id:"contractclass-1"},(0,r.kt)("em",{parentName:"h6"},"ContractClass")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"OPENRPC.ContractClass;\n")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"getinvokeestimatefee"},"getInvokeEstimateFee()"),(0,r.kt)("p",null,"provider.",(0,r.kt)("strong",{parentName:"p"},"getInvokeEstimateFee"),"(invocation, invocationDetails, blockIdentifier) => ",(0,r.kt)("em",{parentName:"p"},"Promise < EstimateFeeResponse >")),(0,r.kt)("h6",{id:"estimatefeeresponse"},(0,r.kt)("em",{parentName:"h6"},"EstimateFeeResponse")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"  overall_fee: BN;\n  gas_consumed?: BN;\n  gas_price?: BN;\n")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"getdeclareestimatefee"},"getDeclareEstimateFee()"),(0,r.kt)("p",null,"provider.",(0,r.kt)("strong",{parentName:"p"},"getDeclareEstimateFee"),"(DeclareContractTransaction, details, blockIdentifier) => ",(0,r.kt)("em",{parentName:"p"},"Promise < EstimateFeeResponse >")),(0,r.kt)("h6",{id:"estimatefeeresponse-1"},(0,r.kt)("em",{parentName:"h6"},"EstimateFeeResponse")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"  overall_fee: BN;\n  gas_consumed?: BN;\n  gas_price?: BN;\n")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"declarecontract"},"declareContract()"),(0,r.kt)("p",null,"provider.",(0,r.kt)("strong",{parentName:"p"},"declareContract"),"(DeclareContractTransaction, details) => ",(0,r.kt)("em",{parentName:"p"},"Promise < DeclareContractResponse >")),(0,r.kt)("h6",{id:"declarecontractresponse"},(0,r.kt)("em",{parentName:"h6"},"DeclareContractResponse")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"  transaction_hash: string;\n  class_hash: string;\n")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"callcontract"},"callContract()"),(0,r.kt)("p",null,"provider.",(0,r.kt)("strong",{parentName:"p"},"callContract"),"(call, blockIdentifier) => ",(0,r.kt)("em",{parentName:"p"},"Promise < CallContractResponse >")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"getcontractaddresses"},"getContractAddresses()"),(0,r.kt)("p",null,"provider.",(0,r.kt)("strong",{parentName:"p"},"traceTransaction"),"(transactionHash) => ",(0,r.kt)("em",{parentName:"p"},"Promise < Trace >")),(0,r.kt)("h6",{id:"trace"},(0,r.kt)("em",{parentName:"h6"},"Trace")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"OPENRPC.Trace;\n")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"traceblocktransactions"},"traceBlockTransactions()"),(0,r.kt)("p",null,"provider.",(0,r.kt)("strong",{parentName:"p"},"traceBlockTransactions"),"(blockHash) => ",(0,r.kt)("em",{parentName:"p"},"Promise < Traces >")),(0,r.kt)("h6",{id:"traces"},(0,r.kt)("em",{parentName:"h6"},"Traces")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"OPENRPC.Traces;\n")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"getsyncingstats"},"getSyncingStats()"),(0,r.kt)("p",null,"provider.",(0,r.kt)("strong",{parentName:"p"},"getSyncingStats"),"() => ",(0,r.kt)("em",{parentName:"p"},"Promise < GetSyncingStatsResponse >")),(0,r.kt)("p",null,"Gets syncing status of the node."),(0,r.kt)("h6",{id:"getsyncingstatsresponse"},(0,r.kt)("em",{parentName:"h6"},"GetSyncingStatsResponse")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"boolean |\n{\n  starting_block_hash: string;\n  starting_block_num: string;\n  current_block_hash: string;\n  current_block_num: string;\n  highest_block_hash: string;\n  highest_block_num: string;\n}\n")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"getevents"},"getEvents()"),(0,r.kt)("p",null,"provider.",(0,r.kt)("strong",{parentName:"p"},"getEvents"),"(eventFilter) => ",(0,r.kt)("em",{parentName:"p"},"Promise < GetEventsResponse >")),(0,r.kt)("p",null,"Gets all the events filtered"),(0,r.kt)("h5",{id:"eventfilter"},(0,r.kt)("em",{parentName:"h5"},"EventFilter")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type EventFilter = {\n  fromBlock: string;\n  toBlock: string;\n  address: string;\n  keys: string[];\n  page_size: number;\n  page_number: number;\n};\n")),(0,r.kt)("h6",{id:"geteventsresponse"},(0,r.kt)("em",{parentName:"h6"},"GetEventsResponse")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"{\n  events: StarknetEmittedEvent[];\n  page_number: number;\n  is_last_page: number;\n}\n")))}k.isMDXComponent=!0}}]);